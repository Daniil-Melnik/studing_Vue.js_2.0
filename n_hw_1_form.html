<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1</title>
    <link rel="stylesheet" href="css//bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link href="css/styles.css" rel="stylesheet">
    <script src="js/vue.js"></script>
</head>
<body>
    <div class="wrapper">
        <div class="sample">
			<button v-on:click="chngFieldsNo">Нажми</button>
            <form>
        		<div class="progress-n">
					<div class="progress-bar-n">
						<div :class="[progressNo]"></div>
					</div>
				</div>
				<div>
					<div class="form-group">
	                    <label>Name</label>
	                    <input type="text" v-on:input="controlName($event.target.value)" :class="[isContactStyle['name']]">
	                </div>
					<div class="form-group">
	                    <label>Phone</label>
	                    <input type="text" v-on:input="controlPhone($event.target.value)" :class="[isContactStyle['phone']]">
	                </div>
					<div class="form-group">
	                    <label>Email</label>
	                    <input type="text" v-on:input="controlEmail($event.target.value)" :class="[isContactStyle['email']]">
	                </div>
					<div class="form-group">
	                    <label>Some Field 1</label>
	                    <input type="text" v-on:input="controlSf1($event.target.value)" :class="[isContactStyle['sf1']]">
	                </div>
					<div class="form-group">
	                    <label>Some Field 2</label>
	                    <input type="text" v-on:input="controlSf2($event.target.value)" :class="[isContactStyle['sf2']]">
	                </div>
				</div>
				<button class="btn btn-primary">
					Send Data
				</button>
			</form>
			<div>
				<table class="table table-bordered">
					<tr>
						<td></td>
						<td></td>
					</tr>
				</table>
			</div>
		</div>
    </div>
	<script>
		
		new Vue({
			el: '.sample',
			data: {
				info: [
					{
						name: 'Name',
						value: '',
						pattern: /^[a-zA-Z ]{2,30}$/
					},
					{
						name: 'Phone',
						value: '',
						pattern: /^[0-9]{7,14}$/
					},
					{
						name: 'Email',
						value: '',
						pattern: /.+/
					},
					{
						name: 'Some Field 1',
						value: '',
						pattern: /.+/
					},
					{
						name: 'Some Field 2',
						value: '',
						pattern: /.+/
					}
				],
				userEmail: "",
				userName: "",
				userPhone: "",
				userSf1: "",
				userSf2: "",
				completeFields:0,
				progressNo: "progressNo_0",
				spn: 0,
				isContact: {'name' : false, 'phone' : false, 'sf1' : false, 'sf2' : false},
				isContactStyle: {'name' : "form-control-none", 'phone' : "form-control-none", 'email' :  "form-control-none", 'sf1' : "form-control-none", 'sf2' : "form-control-none"}
			},
			methods: {
				chngFieldsNo(){
					this.progressNo = "progressNo_"
					this.progressNo = this.progressNo + this.spn
				},
				findNumOfTrue(){
					this.spn = 0
					this.isContact['name'] ? this.spn += 1 : this.spn += 0
					this.isContact['phone'] ? this.spn += 1 : this.spn += 0
					this.isContact['sf1'] ? this.spn += 1 : this.spn += 0
					this.isContact['email'] ? this.spn += 1 : this.spn += 0
					this.isContact['sf2'] ? this.spn += 1 : this.spn += 0
				},
				controlEmail(s){
					this.userEmail = s;
					if (this.userEmail == "1"){
						this.isContact['email'] = true
						this.isContactStyle['email'] = "form-control-good"
						console.log('1')
					}
					else {
						this.isContact['email'] = false
						this.isContactStyle['email'] = "form-control-bad"
						console.log('0')
					}
					this.findNumOfTrue()
					this.chngFieldsNo()
				},

				controlName(s){
					this.userName = s
					if (this.userName == "1"){
						this.isContact['name'] = true
						this.isContactStyle['name'] = "form-control-good"
						console.log('1')
					}
					else {
						this.isContact['name'] = false
						this.isContactStyle['name'] = "form-control-bad"
						console.log('0')
					}
					this.findNumOfTrue()
					this.chngFieldsNo()
				},

				controlPhone(s){
					this.userPhone = s
					if (this.userPhone == "1"){
						this.isContact['phone'] = true
						this.isContactStyle['phone'] = "form-control-good"
						console.log('1')
					}
					else {
						this.isContact['phone'] = false
						this.isContactStyle['phone'] = "form-control-bad"
						console.log('0')
					}
					this.findNumOfTrue()
					this.chngFieldsNo()
				},

				controlSf1(s){
					this.userSf1 = s
					if (this.userSf1 == "1"){
						this.isContact['sf1'] = true
						this.isContactStyle['sf1'] = "form-control-good"
						console.log('1')
					}
					else {
						this.isContact['sf1'] = false
						this.isContactStyle['sf1'] = "form-control-bad"
						console.log('0')
					}
					this.findNumOfTrue()
					this.chngFieldsNo()
				},

				controlSf2(s){
					this.userSf2 = s
					if (this.userSf2 == "1"){
						this.isContact['sf2'] = true
						this.isContactStyle['sf2'] = "form-control-good"
						console.log('1')
					}
					else {
						this.isContact['sf2'] = false
						this.isContactStyle['sf2'] = "form-control-bad"
						console.log('0')
					}
					this.findNumOfTrue()
					this.chngFieldsNo()
				},
			}
		});
	</script>
</body>
</html>